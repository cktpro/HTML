<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="BT_End.css">
    <title>BT</title>
</head>

<body>
    <div class="form">

        <Form action="javascript:checkpass();">
            <h1 class="text-center">Register</h1>
            <p class="text-center">Create your account.It's free and only takes a minute.</p>
            <div class="row">
                <div class="col">
                    <input class="inputfull" type="text" placeholder="First Name" id="firstname" required>
                </div>
                <div class="col">
                    <input class="inputfull" type="text" placeholder="Last Name" id="lastname" required>
                </div>
            </div>
            <input class="inputfull" type="email" placeholder="Email" id="email"
                pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" required>
            <input class="inputfull" type="password" placeholder="Password"
                pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$" id="pass" required>
            <input class="inputfull" type="password" placeholder="Confirm Password"
                pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$" id="cfpass" required>
            <div class="mb-3"><input type="checkbox" class="me-1">I accept the <a href="">Term of User</a> & <a
                    href="">Privacy Policy</a></div>
            <input class="inputfull btn-green p-2" type="submit" value="Register Now" disabled>
        </Form>
    </div>
    <script>
        var store;
        function checkpass() {
            pass1 = document.getElementById("pass").value
            pass2 = document.getElementById("cfpass").value
            if (pass1 == pass2) {
                createDB();
                alert("Đăng ký thành công")
            }
            else {
                alert("Mật khẩu xác nhận không chính xác")
            }

        }
        function createDB() {
            var fName = document.getElementById("firstname").value;
            var lName = document.getElementById("lastname").value;
            var mail = document.getElementById("email").value;
            var pas = document.getElementById("pass").value;
            var indexedDB = window.indexedDB || window.webkitindexedDB
            var request = indexedDB.open("Database", 1);
            request.onupgradeneeded = function () {
                var db = request.result
                store = db.createObjectStore("Registers",{keyPath:"ID",autoIncrement:true})
                var firstName = store.createIndex("FirstName", "FirstName")
                var lastName = store.createIndex("LastName", "LastName")
                var Email = store.createIndex("Email", "Email")
                var Password = store.createIndex("Password", "Password")
                store.put({FirstName:fName,LastName:lName,Email:mail,Password:pas})
            }
            request.onsuccess = function (event) {
                console.log("Thành công")
            }
            request.onerror = function (event) {
                console.log("Error")
            }
        }
    </script>
</body>

</html>